import plugin from '../../../lib/plugins/plugin.js';
import fs from "fs";

export class sky_hhfx extends plugin {
    constructor() {
        super({
            name: '光遇_绘画分享',
            dsc: '光遇',
            event: 'message',
            priority:3000,
            rule: [
                {
                    reg: /^#?(绘画|绘画分享|绘图分享)$/,
                    fnc:'Sky_hhfx'
                },
            ]
        })
    };
    async Sky_hhfx(e) {
        var version_='jsjiami.com.v7';function _0x10f5(_0x966be3,_0x575937){const _0x1ba294=_0x1ba2();return _0x10f5=function(_0x10f501,_0x5d9fbd){_0x10f501=_0x10f501-0x159;let _0x4574c5=_0x1ba294[_0x10f501];if(_0x10f5['pGkjiT']===undefined){var _0x4ef580=function(_0xa3fe7f){const _0x577e5d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x279b49='',_0x5c4a99='';for(let _0xf616d9=0x0,_0x525f0e,_0x528446,_0x417ce4=0x0;_0x528446=_0xa3fe7f['charAt'](_0x417ce4++);~_0x528446&&(_0x525f0e=_0xf616d9%0x4?_0x525f0e*0x40+_0x528446:_0x528446,_0xf616d9++%0x4)?_0x279b49+=String['fromCharCode'](0xff&_0x525f0e>>(-0x2*_0xf616d9&0x6)):0x0){_0x528446=_0x577e5d['indexOf'](_0x528446);}for(let _0x36b32c=0x0,_0x404a1a=_0x279b49['length'];_0x36b32c<_0x404a1a;_0x36b32c++){_0x5c4a99+='%'+('00'+_0x279b49['charCodeAt'](_0x36b32c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5c4a99);};const _0x2f0445=function(_0x402188,_0xa2ccb8){let _0x5dad52=[],_0x509b6a=0x0,_0x40ba0c,_0x2e9be7='';_0x402188=_0x4ef580(_0x402188);let _0x521acc;for(_0x521acc=0x0;_0x521acc<0x100;_0x521acc++){_0x5dad52[_0x521acc]=_0x521acc;}for(_0x521acc=0x0;_0x521acc<0x100;_0x521acc++){_0x509b6a=(_0x509b6a+_0x5dad52[_0x521acc]+_0xa2ccb8['charCodeAt'](_0x521acc%_0xa2ccb8['length']))%0x100,_0x40ba0c=_0x5dad52[_0x521acc],_0x5dad52[_0x521acc]=_0x5dad52[_0x509b6a],_0x5dad52[_0x509b6a]=_0x40ba0c;}_0x521acc=0x0,_0x509b6a=0x0;for(let _0x2c5e7c=0x0;_0x2c5e7c<_0x402188['length'];_0x2c5e7c++){_0x521acc=(_0x521acc+0x1)%0x100,_0x509b6a=(_0x509b6a+_0x5dad52[_0x521acc])%0x100,_0x40ba0c=_0x5dad52[_0x521acc],_0x5dad52[_0x521acc]=_0x5dad52[_0x509b6a],_0x5dad52[_0x509b6a]=_0x40ba0c,_0x2e9be7+=String['fromCharCode'](_0x402188['charCodeAt'](_0x2c5e7c)^_0x5dad52[(_0x5dad52[_0x521acc]+_0x5dad52[_0x509b6a])%0x100]);}return _0x2e9be7;};_0x10f5['ngZcQZ']=_0x2f0445,_0x966be3=arguments,_0x10f5['pGkjiT']=!![];}const _0x2577a4=_0x1ba294[0x0],_0x52f2c7=_0x10f501+_0x2577a4,_0x1994aa=_0x966be3[_0x52f2c7];return!_0x1994aa?(_0x10f5['FRRlvz']===undefined&&(_0x10f5['FRRlvz']=!![]),_0x4574c5=_0x10f5['ngZcQZ'](_0x4574c5,_0x5d9fbd),_0x966be3[_0x52f2c7]=_0x4574c5):_0x4574c5=_0x1994aa,_0x4574c5;},_0x10f5(_0x966be3,_0x575937);}function _0x1ba2(){const _0xebbc0d=(function(){return[...[version_,'XSRjFsIMKjiqTamiwG.HcwoRxJmtbJ.tkvA7dELB==','CYxdS0dcMYZcI0ar','W7NcS8oKb2VcMCoO','pqFcTCksibnjW4yoW6LHWQO','W53cV2DMW5r7W7q+WRe','WRZdOCowWQqfWO9jWP7dUeJdUvni','qqGOW6ykl8oSWOXukq','WRhdRKW','W7ZcUXW9pSoHhMFdMCoh','c3ddNmoviNbAqq'],...(function(){return[...['ANesuCoIWQpdSqtdP8oYWOvgoa','WR7cSmkJabhcVrZdTSoPW6hcKSkskG','Axuqu8oSWQtdSW/dI8oIWRreiq','WRjdW7xcRhm5W5O','W6ddUcHzl8k+','W4Tbx8kzsmoZWRmsbc93vW','nSoqgXJdNsjh','W7ddQXv2CCkFySkRdfrmzG','zu4aW486f8kvWQ3cL2JdSvTZ','WRZdQ8osWQTKW4qBWPJdRLW','W6/dOIC5zc/dId8'],...(function(){return['W6fRlXNdTfuFWPO','W7b0W6fwjmoiwN1rEuD4yq','BLtcGSkXE8o5xqhcR8orDZTU','WOOImmklWRldN0i1W509','W5X8W7JcMSo5Dd9L','nvddVCoVz3LH','amoOxCoJW5a6W6VcPW','WRRcSSkLbrhcSX7dOmoCW7VcMCkJpW'];}())];}())];}());_0x1ba2=function(){return _0xebbc0d;};return _0x1ba2();};const _0x5bccba=_0x10f5;(function(_0x59cfaf,_0x4f26f8,_0x5a290b,_0x20317c,_0x338a0,_0x4a9d40,_0x2ada42){return _0x59cfaf=_0x59cfaf>>0x1,_0x4a9d40='hs',_0x2ada42='hs',function(_0x10e94e,_0x3c77c8,_0x51d4e0,_0x591997,_0x50c9fe){const _0x4d2d0c=_0x10f5;_0x591997='tfi',_0x4a9d40=_0x591997+_0x4a9d40,_0x50c9fe='up',_0x2ada42+=_0x50c9fe,_0x4a9d40=_0x51d4e0(_0x4a9d40),_0x2ada42=_0x51d4e0(_0x2ada42),_0x51d4e0=0x0;const _0x14d371=_0x10e94e();while(!![]&&--_0x20317c+_0x3c77c8){try{_0x591997=parseInt(_0x4d2d0c(0x15f,'DU#k'))/0x1*(-parseInt(_0x4d2d0c(0x15d,'VXxX'))/0x2)+parseInt(_0x4d2d0c(0x16a,'Ay2k'))/0x3*(parseInt(_0x4d2d0c(0x174,'iX]R'))/0x4)+-parseInt(_0x4d2d0c(0x161,'sP*w'))/0x5*(parseInt(_0x4d2d0c(0x15b,'xe8J'))/0x6)+parseInt(_0x4d2d0c(0x171,'68i&'))/0x7*(parseInt(_0x4d2d0c(0x16f,'2rR2'))/0x8)+-parseInt(_0x4d2d0c(0x170,'icRO'))/0x9*(parseInt(_0x4d2d0c(0x173,'hUsp'))/0xa)+-parseInt(_0x4d2d0c(0x16b,'r^C%'))/0xb*(-parseInt(_0x4d2d0c(0x169,'oapy'))/0xc)+-parseInt(_0x4d2d0c(0x16d,'C(1h'))/0xd*(parseInt(_0x4d2d0c(0x164,'ogKB'))/0xe);}catch(_0x569dc5){_0x591997=_0x51d4e0;}finally{_0x50c9fe=_0x14d371[_0x4a9d40]();if(_0x59cfaf<=_0x20317c)_0x51d4e0?_0x338a0?_0x591997=_0x50c9fe:_0x338a0=_0x50c9fe:_0x51d4e0=_0x50c9fe;else{if(_0x51d4e0==_0x338a0['replace'](/[XLHSFbxtJBwKkGATdIEMqR=]/g,'')){if(_0x591997===_0x3c77c8){_0x14d371['un'+_0x4a9d40](_0x50c9fe);break;}_0x14d371[_0x2ada42](_0x50c9fe);}}}}}(_0x5a290b,_0x4f26f8,function(_0x6d138a,_0xa9bb82,_0x53cef4,_0xaf3739,_0x23bef2,_0x5a1d04,_0xef9dcf){return _0xa9bb82='\x73\x70\x6c\x69\x74',_0x6d138a=arguments[0x0],_0x6d138a=_0x6d138a[_0xa9bb82](''),_0x53cef4=`\x72\x65\x76\x65\x72\x73\x65`,_0x6d138a=_0x6d138a[_0x53cef4]('\x76'),_0xaf3739=`\x6a\x6f\x69\x6e`,(0x12629b,_0x6d138a[_0xaf3739](''));});}(0x19a,0x84bab,_0x1ba2,0xcf),_0x1ba2)&&(version_=_0x1ba2);let Sky_image=process[_0x5bccba(0x159,'cK6#')]()+'/plugins/Tlon-Sky/resource/光遇绘画分享/image/',img=Sky_image+fs['readdirSync'](Sky_image)[Math['floor'](Math[_0x5bccba(0x160,'Ur$q')]()*fs['readdirSync'](Sky_image)['length'])];await e['reply'](segment['image']('file:///'+img),!![]);return!![];var version_ = 'jsjiami.com.v7';
    }
}